-- ==
-- input {
--   [ [ [ [1,2,3], [4,5,6] ]
--     , [ [6,7,8], [9,10,11] ]
--     ]
--   , [ [ [3,2,1], [4,5,6] ]
--     , [ [8,7,6], [11,10,9] ]
--     ]
--   ]
--   [ [ [ [4,5,6]  , [1,2,3] ]
--     , [ [9,10,11], [6,7,8] ]
--     ]
--   , [ [ [4,5,6]  , [3,2,1] ]
--     , [ [11,10,9], [8,7,6] ]
--     ]
--   ]
-- }
-- output {
--   [[[[5, 7, 9],
--      [5, 7, 9]],
--     [[15, 17, 19],
--      [15, 17, 19]]],
--    [[[7, 7, 7],
--      [7, 7, 7]],
--     [[19, 17, 15],
--      [19, 17, 15]]]]
-- }
fun add1 (xs: []int, ys: []int): []int =
  map((+), zip (xs,ys))

fun add2 (xs: [][]int, ys: [][]int): [][]int =
  map (add1, zip (xs,ys))

fun add3 (xs: [][][]int, ys: [][][]int): [][][]int =
  map (add2, zip (xs,ys))

fun add4 (xs: [][][][]int, ys: [][][][]int): [][][][]int =
  map (add3, zip (xs,ys))

fun main(a: [][][][]int, b: [][][][]int): [][][][]int =
  add4(a,b)
