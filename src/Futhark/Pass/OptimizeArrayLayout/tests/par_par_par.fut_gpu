types {

}



entry("main",
      {xsss: [][][]i64},
      {[][][]i64})
  entry_main (l_5278 : i64,
              n_5279 : i64,
              m_5280 : i64,
              xsss_5281 : [l_5278][n_5279][m_5280]i64)
  : {[l_5278][n_5279][m_5280]i64#([3], [0])} = {
  let {y_5481 : i64} =
    mul_nw64(n_5279, m_5280)
  let {nest_size_5482 : i64} =
    mul_nw64(l_5278, y_5481)
  let {segmap_group_size_5483 : i64} =
    get_size(segmap_group_size_5431, group_size)
  let {segmap_usable_groups_5484 : i64} =
    sdiv_up64(nest_size_5482, segmap_group_size_5483)
  let {defunc_0_map_res_5485 : [l_5278][n_5279][m_5280]i64} =
    segmap(thread; ; groups=segmap_usable_groups_5484; groupsize=segmap_group_size_5483)
    (gtid_5486 < l_5278, gtid_5487 < n_5279, gtid_5488 < m_5280) (~phys_tid_5489) : {i64} {
      let {eta_p_5490 : i64} =
        xsss_5281[gtid_5486, gtid_5487, gtid_5488]
      let {lifted_lambda_res_5491 : i64} =
        add64(2i64, eta_p_5490)
      return {returns lifted_lambda_res_5491}
    }
  in {defunc_0_map_res_5485}
}


-- === Expected output after pass: CONFIRMED
-- types {
--
-- }
--
--
--
-- entry("main",
--       {xsss: [][][]i64},
--       {[][][]i64})
--   entry_main (l_5278 : i64,
--               n_5279 : i64,
--               m_5280 : i64,
--               xsss_5281 : [l_5278][n_5279][m_5280]i64)
--   : {[l_5278][n_5279][m_5280]i64#([3], [0])} = {
--   let {y_5481 : i64} =
--     mul_nw64(n_5279, m_5280)
--   let {nest_size_5482 : i64} =
--     mul_nw64(l_5278, y_5481)
--   let {segmap_group_size_5483 : i64} =
--     get_size(segmap_group_size_5431, group_size)
--   let {segmap_usable_groups_5484 : i64} =
--     sdiv_up64(nest_size_5482, segmap_group_size_5483)
--   let {defunc_0_map_res_5485 : [l_5278][n_5279][m_5280]i64} =
--     segmap(thread; ; groups=segmap_usable_groups_5484; groupsize=segmap_group_size_5483)
--     (gtid_5486 < l_5278, gtid_5487 < n_5279, gtid_5488 < m_5280) (~phys_tid_5489) : {i64} {
--       let {eta_p_5490 : i64} =
--         xsss_5281[gtid_5486, gtid_5487, gtid_5488]
--       let {lifted_lambda_res_5491 : i64} =
--         add64(2i64, eta_p_5490)
--       return {returns lifted_lambda_res_5491}
--     }
--   in {defunc_0_map_res_5485}
-- }
